<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculadora de IR regressivo e rendimento líquido na renda fixa. Simule CDB, Tesouro e fundos: IOF, IR e valor líquido em segundos.">
    <meta name="keywords" content="calculadora IR regressivo, renda fixa, IR CDB, IOF, rendimento líquido, investimento líquido, imposto de renda investimentos">
    <meta name="author" content="Cérebro Milionário">
    <meta name="robots" content="index, follow">

    <title>Calculadora de IR Regressivo e Rendimento Líquido | Cérebro Milionário</title>
    <meta name="google-adsense-account" content="ca-pub-4613426749830025">

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Canonical -->
    <link rel="canonical" href="https://peppy-lollipop-54fa27.netlify.app/calculadora-ir-renda-fixa.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peppy-lollipop-54fa27.netlify.app/calculadora-ir-renda-fixa.html">
    <meta property="og:title" content="Calculadora de IR Regressivo e Rendimento Líquido | Cérebro Milionário">
    <meta property="og:description" content="Calcule IOF, IR regressivo e o valor líquido do seu investimento em renda fixa.">
    <meta property="og:image" content="https://peppy-lollipop-54fa27.netlify.app/images/og-calculadora.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://peppy-lollipop-54fa27.netlify.app/calculadora-ir-renda-fixa.html">
    <meta property="twitter:title" content="Calculadora de IR Regressivo e Rendimento Líquido | Cérebro Milionário">
    <meta property="twitter:description" content="Calcule IOF, IR regressivo e o valor líquido do seu investimento em renda fixa.">
    <meta property="twitter:image" content="https://peppy-lollipop-54fa27.netlify.app/images/og-calculadora.jpg">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Calculadora de IR Regressivo e Rendimento Líquido",
        "url": "https://peppy-lollipop-54fa27.netlify.app/calculadora-ir-renda-fixa.html",
        "description": "Calcula IOF, IR regressivo e o valor líquido do investimento em renda fixa.",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "BRL"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Cérebro Milionário",
            "url": "https://peppy-lollipop-54fa27.netlify.app/"
        }
    }
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4613426749830025" crossorigin="anonymous"></script>

    <style>
        .tool-note {
            background: rgba(244, 196, 48, 0.12);
            border: 1px solid rgba(244, 196, 48, 0.35);
            border-radius: 16px;
            padding: 16px;
            margin-top: 18px;
            color: var(--text-color, #1a1a1a);
        }
        .tool-note strong { font-weight: 600; }
        .two-col {
            display: grid;
            grid-template-columns: 1.1fr 0.9fr;
            gap: 24px;
            align-items: start;
        }
        @media (max-width: 900px) {
            .two-col { grid-template-columns: 1fr; }
        }
        .result-card {
            background: #fff;
            border-radius: 18px;
            padding: 18px;
            box-shadow: 0 10px 30px rgba(0,0,0,.06);
            border: 1px solid rgba(0,0,0,.06);
        }
        .result-big {
            font-size: 28px;
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 6px;
        }
        .result-sub {
            opacity: .85;
            margin-bottom: 14px;
        }
        .result-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        .result-row {
            display:flex;
            justify-content: space-between;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0,0,0,.06);
        }
        .result-row:last-child { border-bottom: 0; }
        .badge {
            display:inline-flex;
            align-items:center;
            gap: 8px;
            font-size: 13px;
            padding: 6px 10px;
            border-radius: 999px;
            background: rgba(44,44,46,.06);
        }
        .pill {
            display:inline-flex;
            gap:8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        .mini-links {
            display:flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 14px;
        }
        .mini-links a { text-decoration: none; }
        .segmented {
            display:flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .segmented button {
            border: 1px solid rgba(0,0,0,.14);
            background: #fff;
            border-radius: 999px;
            padding: 10px 14px;
            cursor: pointer;
            font-weight: 600;
        }
        .segmented button.active {
            border-color: rgba(244,196,48,.8);
            box-shadow: 0 8px 20px rgba(244,196,48,.18);
        }
        .help-line {
            font-size: 13px;
            opacity: .8;
            margin-top: 6px;
        }
        .small-warning {
            font-size: 12px;
            opacity: .75;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container header-container">
            <div class="logo">
                <h1><a href="/index.html">Cérebro Milionário</a></h1>
            </div>

            <button class="mobile-menu-btn" aria-label="Abrir menu" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>

            <nav class="navigation" id="primary-navigation">
                <ul class="nav-menu">
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="/calculadora.html" class="active">Calculadora</a></li>
                    <li><a href="/aposentadoria.html">Aposentadoria</a></li>
                    <li><a href="/cursos.html">Cursos</a></li>
                    <li><a href="/blog.html">Blog</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero-section">
            <div class="container">
                <div class="hero-content animate-fade-in">
                    <h1>Calculadora de IR Regressivo e Rendimento Líquido</h1>
                    <p>Descubra quanto sobra <strong>depois</strong> do IOF (se houver) e do IR regressivo. Ideal para CDB, Tesouro e fundos de renda fixa (estimativa).</p>
                    <div class="hero-buttons">
                        <a href="/comparador-cdb-lci-lca.html" class="btn btn-secondary">Comparar CDB vs LCI/LCA</a>
                        <a href="/calculadora.html" class="btn btn-primary">Juros Compostos</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="ad-container adsense-responsive">
            <span class="ad-label">Publicidade</span>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-4613426749830025"
                 data-ad-slot="YOUR_AD_SLOT_ID_1"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </section>

        <section class="calculator-section">
            <div class="container">
                <div class="section-header">
                    <h2>Simule o valor líquido</h2>
                    <p>Escolha um modo de cálculo e veja o impacto real dos impostos no seu resultado.</p>
                </div>

                <div class="two-col">
                    <div class="calculator-container" style="padding: 0;">
                        <div style="padding: 18px;">
                            <div class="segmented" role="tablist" aria-label="Modo de cálculo">
                                <button type="button" class="active" id="mode-estimar">Estimar com taxa</button>
                                <button type="button" id="mode-lucro">Tenho lucro/valor bruto</button>
                            </div>

                            <form id="ir-form" class="calculator-form">
                                <div class="form-group">
                                    <label for="principal">Valor investido (R$)</label>
                                    <input type="number" id="principal" class="form-control" min="0" step="100" value="10000" required>
                                </div>

                                <div class="form-group">
                                    <label for="prazo">Prazo</label>
                                    <div style="display:flex; gap:10px;">
                                        <input type="number" id="prazo" class="form-control" min="1" step="1" value="365" required>
                                        <select id="prazo-unidade" class="form-control" style="max-width: 170px;">
                                            <option value="dias" selected>dias</option>
                                            <option value="meses">meses</option>
                                            <option value="anos">anos</option>
                                        </select>
                                    </div>
                                    <div class="help-line">Use <strong>dias</strong> se quiser IOF mais preciso (até 29 dias).</div>
                                </div>

                                <div id="panel-estimar">
                                    <div class="form-group">
                                        <label for="taxa">Taxa bruta</label>
                                        <div style="display:flex; gap:10px;">
                                            <input type="number" id="taxa" class="form-control" min="0" step="0.01" value="12.00">
                                            <select id="taxa-unidade" class="form-control" style="max-width: 170px;">
                                                <option value="aa" selected>% ao ano</option>
                                                <option value="am">% ao mês</option>
                                                <option value="periodo">% no período</option>
                                            </select>
                                        </div>
                                        <div class="help-line">Se você já sabe o rendimento no período, selecione <strong>% no período</strong>.</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="base">Base (para taxas ao ano)</label>
                                        <select id="base" class="form-control">
                                            <option value="365" selected>Calendário (365 dias)</option>
                                            <option value="252">Dias úteis (252)</option>
                                        </select>
                                    </div>
                                </div>

                                <div id="panel-lucro" style="display:none;">
                                    <div class="form-group">
                                        <label for="entrada-tipo">Você sabe:</label>
                                        <select id="entrada-tipo" class="form-control">
                                            <option value="lucro" selected>Lucro bruto (R$)</option>
                                            <option value="final">Valor final bruto (R$)</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label for="entrada-valor">Valor (R$)</label>
                                        <input type="number" id="entrada-valor" class="form-control" min="0" step="10" value="1200">
                                    </div>
                                </div>

                                <div class="form-group" style="grid-column: 1 / -1;">
                                    <label style="display:flex; gap:10px; align-items:center; cursor:pointer;">
                                        <input type="checkbox" id="considerar-iof" checked>
                                        <span>Considerar IOF (apenas até 29 dias)</span>
                                    </label>
                                    <div class="help-line">Se o prazo for maior que 29 dias, o IOF é 0 automaticamente.</div>
                                </div>

                                <div class="form-group" style="grid-column: 1 / -1;">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">Calcular líquido</button>
                                </div>
                            </form>

                            <div class="tool-note">
                                <strong>Como o imposto é calculado aqui:</strong>
                                <div style="margin-top: 8px; line-height: 1.6;">
                                    1) calcula o <strong>lucro bruto</strong> → 2) aplica <strong>IOF</strong> (se prazo ≤ 29 dias) → 3) aplica <strong>IR regressivo</strong> no lucro após IOF.
                                </div>
                                <div class="small-warning">Estimativa educacional (não inclui taxas do produto, come-cotas, custódia, spread, carência ou regras específicas de cada instituição).</div>
                            </div>
                        </div>
                    </div>

                    <aside class="result-card">
                        <div class="pill">
                            <span class="badge"><i class="fa-solid fa-percent"></i> IR regressivo</span>
                            <span class="badge"><i class="fa-solid fa-receipt"></i> IOF (até 29 dias)</span>
                        </div>

                        <div style="margin-top: 14px;">
                            <div class="result-big">R$ <span id="final-liquido">—</span></div>
                            <div class="result-sub">Valor final <strong>líquido</strong> estimado</div>
                        </div>

                        <div class="result-grid">
                            <div class="result-row"><span>Lucro bruto</span><strong id="lucro-bruto">—</strong></div>
                            <div class="result-row"><span>IOF</span><strong id="iof">—</strong></div>
                            <div class="result-row"><span>IR (<span id="aliquota-ir">—</span>)</span><strong id="ir">—</strong></div>
                            <div class="result-row"><span>Lucro líquido</span><strong id="lucro-liquido">—</strong></div>
                            <div class="result-row"><span>Rentab. líquida no período</span><strong id="rentab-liq">—</strong></div>
                        </div>

                        <div class="tool-note" style="margin-top: 16px;">
                            <strong>LCI/LCA equivalente (isenta):</strong>
                            <div style="margin-top: 8px; line-height: 1.6;">
                                Para empatar com esse resultado líquido, uma LCI/LCA precisaria render <strong><span id="isenta-equivalente">—</span></strong> no mesmo período.
                            </div>
                        </div>

                        <div class="mini-links">
                            <a class="btn btn-secondary" href="/comparador-cdb-lci-lca.html">Abrir Comparador</a>
                            <a class="btn btn-tertiary" href="/aposentadoria.html">Simular Aposentadoria</a>
                        </div>
                    </aside>
                </div>
            </div>
        </section>

        <section class="ad-container adsense-responsive">
            <span class="ad-label">Publicidade</span>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-4613426749830025"
                 data-ad-slot="YOUR_AD_SLOT_ID_2"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </section>

    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3 class="footer-logo">Cérebro Milionário</h3>
                    <p class="footer-text">Capacitando você a tomar decisões financeiras inteligentes para um futuro próspero.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/cerebromillionario/" target="_blank" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/@cerebromillionario?si=HXuHdkSfJpfBcT75" target="_blank" class="social-link" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Navegação</h4>
                    <ul class="footer-links">
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/calculadora.html">Calculadora</a></li>
                        <li><a href="/blog.html">Blog</a></li>
                        <li><a href="#">Política de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Recursos</h4>
                    <ul class="footer-links">
                        <li><a href="#">Glossário Financeiro</a></li>
                        <li><a href="#">Perguntas Frequentes</a></li>
                        <li><a href="#">Guias para Iniciantes</a></li>
                        <li><a href="#">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Newsletter</h4>
                    <p class="footer-text">Receba dicas financeiras exclusivas diretamente no seu email.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Seu melhor email" required class="form-control">
                        <button type="submit" class="btn btn-primary" style="margin-top: var(--spacing-sm); width: 100%;">Inscrever</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; <span id="current-year"></span> Cérebro Milionário. Todos os direitos reservados.
            </div>
        </div>
    </footer>

    <script src="/js/main.js"></script>
    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();

        const IOF_TABLE = {
            1: 96, 2: 93, 3: 90, 4: 86, 5: 83, 6: 80, 7: 76, 8: 73, 9: 70, 10: 66,
            11: 63, 12: 60, 13: 56, 14: 53, 15: 50, 16: 46, 17: 43, 18: 40, 19: 36, 20: 33,
            21: 30, 22: 26, 23: 23, 24: 20, 25: 16, 26: 13, 27: 10, 28: 6, 29: 3, 30: 0
        };

        function fmtBRL(n) {
            return n.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }
        function fmtPct(n) {
            return n.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + '%';
        }

        function prazoToDias(valor, unidade) {
            const v = Number(valor) || 0;
            if (unidade === 'dias') return Math.max(1, Math.round(v));
            if (unidade === 'meses') return Math.max(1, Math.round(v * 30));
            if (unidade === 'anos') return Math.max(1, Math.round(v * 365));
            return Math.max(1, Math.round(v));
        }

        function irAliquota(dias) {
            if (dias <= 180) return 0.225;
            if (dias <= 360) return 0.20;
            if (dias <= 720) return 0.175;
            return 0.15;
        }

        function calcularLucroBrutoPorTaxa(principal, dias, taxa, taxaUnidade, base) {
            const t = (Number(taxa) || 0) / 100;
            if (taxaUnidade === 'periodo') {
                return principal * t;
            }
            if (taxaUnidade === 'am') {
                const meses = dias / 30;
                const final = principal * Math.pow(1 + t, meses);
                return Math.max(0, final - principal);
            }
            const b = Number(base) || 365;
            const final = principal * Math.pow(1 + t, dias / b);
            return Math.max(0, final - principal);
        }

        function renderResultado(principal, dias, lucroBruto, considerarIof) {
            const aliquotaIR = irAliquota(dias);
            const iofRate = (considerarIof && dias <= 29) ? (IOF_TABLE[dias] ?? 0) / 100 : 0;
            const iof = lucroBruto * iofRate;

            const baseIR = Math.max(0, lucroBruto - iof);
            const ir = baseIR * aliquotaIR;

            const lucroLiquido = Math.max(0, lucroBruto - iof - ir);
            const finalLiquido = principal + lucroLiquido;

            document.getElementById('final-liquido').textContent = fmtBRL(finalLiquido);
            document.getElementById('lucro-bruto').textContent = 'R$ ' + fmtBRL(lucroBruto);
            document.getElementById('iof').textContent = 'R$ ' + fmtBRL(iof);
            document.getElementById('ir').textContent = 'R$ ' + fmtBRL(ir);
            document.getElementById('lucro-liquido').textContent = 'R$ ' + fmtBRL(lucroLiquido);
            document.getElementById('aliquota-ir').textContent = fmtPct(aliquotaIR * 100);

            const rentabLiq = (principal > 0) ? (lucroLiquido / principal * 100) : 0;
            document.getElementById('rentab-liq').textContent = fmtPct(rentabLiq);

            document.getElementById('isenta-equivalente').textContent = fmtPct(rentabLiq);
        }

        const btnEstimar = document.getElementById('mode-estimar');
        const btnLucro = document.getElementById('mode-lucro');
        const panelEstimar = document.getElementById('panel-estimar');
        const panelLucro = document.getElementById('panel-lucro');

        function setMode(mode) {
            if (mode === 'estimar') {
                btnEstimar.classList.add('active');
                btnLucro.classList.remove('active');
                panelEstimar.style.display = '';
                panelLucro.style.display = 'none';
                panelLucro.querySelectorAll('input,select').forEach(el => el.disabled = true);
                panelEstimar.querySelectorAll('input,select').forEach(el => el.disabled = false);
            } else {
                btnLucro.classList.add('active');
                btnEstimar.classList.remove('active');
                panelLucro.style.display = '';
                panelEstimar.style.display = 'none';
                panelEstimar.querySelectorAll('input,select').forEach(el => el.disabled = true);
                panelLucro.querySelectorAll('input,select').forEach(el => el.disabled = false);
            }
        }

        btnEstimar.addEventListener('click', () => setMode('estimar'));
        btnLucro.addEventListener('click', () => setMode('lucro'));
        setMode('estimar');

        document.getElementById('ir-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const principal = Number(document.getElementById('principal').value) || 0;
            const dias = prazoToDias(document.getElementById('prazo').value, document.getElementById('prazo-unidade').value);
            const considerarIof = document.getElementById('considerar-iof').checked;

            let lucroBruto = 0;
            if (btnEstimar.classList.contains('active')) {
                const taxa = Number(document.getElementById('taxa').value) || 0;
                const taxaUnidade = document.getElementById('taxa-unidade').value;
                const base = document.getElementById('base').value;
                lucroBruto = calcularLucroBrutoPorTaxa(principal, dias, taxa, taxaUnidade, base);
            } else {
                const tipo = document.getElementById('entrada-tipo').value;
                const v = Number(document.getElementById('entrada-valor').value) || 0;
                lucroBruto = (tipo === 'final') ? Math.max(0, v - principal) : Math.max(0, v);
            }

            renderResultado(principal, dias, lucroBruto, considerarIof);
        });

        document.getElementById('ir-form').dispatchEvent(new Event('submit'));
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Blog | C√©rebro Milion√°rio</title>
  <meta name="description" content="Artigos do C√©rebro Milion√°rio sobre investimentos, renda fixa, ETFs, FIIs e finan√ßas pessoais." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://peppy-lollipop-54fa27.netlify.app/blog.html" />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://peppy-lollipop-54fa27.netlify.app/blog.html" />
  <meta property="og:title" content="Blog | C√©rebro Milion√°rio" />
  <meta property="og:description" content="Artigos densos e ferramentas pr√°ticas para investir melhor." />
  <meta property="og:image" content="https://peppy-lollipop-54fa27.netlify.app/images/blog-cover.svg" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/css/style.css" />

  <meta name="google-adsense-account" content="ca-pub-4613426749830025">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4613426749830025" crossorigin="anonymous"></script>

  <style>
    .blog-toolbar{display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-top:16px}
    .blog-toolbar .field{flex:1 1 320px}
    .blog-toolbar input,.blog-toolbar select{width:100%;padding:12px 14px;border-radius:14px;border:1px solid rgba(0,0,0,.10);outline:none;background:#fff;box-shadow:var(--shadow-sm);font-family:inherit}
    .posts-grid{margin-top:18px}
    .post-card{display:flex;flex-direction:column;overflow:hidden;border-radius:18px;border:1px solid rgba(0,0,0,.08);background:#fff;box-shadow:var(--shadow-sm);transition:transform .15s ease}
    .post-card:hover{transform:translateY(-2px)}
    .post-thumb{width:100%;height:180px;object-fit:cover;background:rgba(0,0,0,.04);display:block}
    .post-body{padding:16px;display:flex;flex-direction:column;gap:10px;height:100%}
    .post-meta{display:flex;gap:10px;flex-wrap:wrap;align-items:center;font-size:12px;opacity:.82}
    .tag{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(44,44,46,.06);font-weight:800}
    .readtime{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(244,196,48,.14);font-weight:900}
    .post-title{margin:0;font-size:18px;line-height:1.25}
    .post-desc{margin:0;opacity:.82}
    .post-actions{margin-top:auto;display:flex;justify-content:flex-start}
    .btn-sm{padding:10px 12px;border-radius:12px;border:1px solid rgba(0,0,0,.10);background:#fff;text-decoration:none;font-weight:900}
    .btn-sm:hover{border-color:rgba(0,0,0,.22)}
    .empty-state{text-align:center;padding:22px 16px;border-radius:18px;border:1px solid rgba(0,0,0,.08);background:#fff;box-shadow:var(--shadow-sm);margin-top:18px}
    .muted{opacity:.78}

    /* Pagina√ß√£o bonita */
    .pagination{display:flex;justify-content:center;align-items:center;gap:10px;margin:24px 0 10px;flex-wrap:wrap}
    .pagination button{min-width:48px;height:48px;padding:0 16px;display:inline-flex;align-items:center;justify-content:center;border-radius:16px;border:1px solid rgba(0,0,0,.10);background:#fff;color:#2c2c2e;font-weight:900;font-size:16px;line-height:1;box-shadow:0 8px 22px rgba(0,0,0,.08);cursor:pointer;transition:transform .12s ease, box-shadow .12s ease, background .12s ease}
    .pagination button:hover{transform:translateY(-1px);box-shadow:0 12px 28px rgba(0,0,0,.12);background:rgba(244,196,48,.14)}
    .pagination button.active{background:#2c2c2e;color:#fff;border-color:#2c2c2e}

    @media(max-width:480px){
      .pagination button{min-width:46px;height:46px;border-radius:14px}
    }
  
    /* Destaques (S√©ries / Pilares) */
    .featured-wrap{margin-top:18px}
    .featured-title{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .featured-title h2{margin:0;font-size:20px}
    .featured-grid{margin-top:12px;display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .featured-card{display:flex;flex-direction:column;overflow:hidden;border-radius:18px;border:1px solid rgba(0,0,0,.08);background:#fff;box-shadow:var(--shadow-sm);transition:transform .15s ease}
    .featured-card:hover{transform:translateY(-2px)}
    .featured-card img{width:100%;height:140px;object-fit:cover;background:rgba(0,0,0,.04);display:block}
    .featured-body{padding:14px;display:flex;flex-direction:column;gap:10px;height:100%}
    .featured-body h3{margin:0;font-size:16px;line-height:1.25}
    .featured-body p{margin:0;opacity:.82}
    .featured-meta{display:flex;gap:10px;flex-wrap:wrap;align-items:center;font-size:12px;opacity:.85}
    .featured-meta .tag{padding:6px 10px}
    .featured-cta{margin-top:auto;display:flex;justify-content:flex-start}
    .divider-soft{margin:18px 0;opacity:.22}
    @media (max-width: 980px){ .featured-grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 520px){ .featured-grid{grid-template-columns:1fr} .featured-card img{height:160px} }

  </style>
</head>

<body>
  <header class="header">
    <div class="container header-container">
      <div class="logo">
        <h1><a href="/index.html">C√©rebro Milion√°rio</a></h1>
      </div>

      <button class="mobile-menu-btn" aria-label="Abrir menu" aria-expanded="false">
        <i class="fas fa-bars"></i>
      </button>

      <nav class="navigation" id="primary-navigation">
        <ul class="nav-menu">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/calculadora.html">Calculadora</a></li>
          <li><a href="/comparador-cdb-lci-lca.html">Comparador</a></li>
          <li><a href="/calculadora-ir-renda-fixa.html">IR Renda Fixa</a></li>
          <li><a href="/aposentadoria.html">Aposentadoria</a></li>
          <li><a href="/cursos.html">Cursos</a></li>
          <li><a href="/comunidade.html">Comunidade</a></li>
          <li><a href="/blog.html" class="active">Blog</a></li>
        
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="page-header">
      <div class="container">
        <h1>Blog</h1>
        <p class="muted" style="max-width: 920px;">Todos os artigos do C√©rebro Milion√°rio. Use a busca e o filtro.</p>

        <div class="blog-toolbar">
          <div class="field">
            <input id="searchInput" type="search" placeholder="Buscar artigos (ex.: renda fixa, ETF, reserva...)" />
          </div>
          <div style="min-width: 220px;">
            <select id="tagSelect" aria-label="Filtrar por tema">
              <option value="all">Todos os temas</option>
            </select>
          </div>
        </div>


        <div class="featured-wrap" aria-label="Destaques do Blog">
          <div class="featured-title">
            <h2>üî• Destaques</h2>
            <span class="muted">S√©ries e pilares para voc√™ estudar em sequ√™ncia</span>
          </div>

          <div class="featured-grid">
            <!-- S√©rie ETF Masterclass -->
            <article class="featured-card">
              <a href="/posts/etf-masterclass-carteira-global-parte-1.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="ETF Masterclass Parte 1" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-bolt"></i> Masterclass</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 40‚Äì55 min</span>
                </div>
                <h3>ETF Masterclass (Parte 1)</h3>
                <p>Funda√ß√£o institucional: arquitetura, core/sat√©lites, custos e como pensar como ‚Äúgestor‚Äù.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/etf-masterclass-carteira-global-parte-1.html">Abrir Parte 1</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/etf-masterclass-carteira-global-parte-2.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="ETF Masterclass Parte 2" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-bolt"></i> Masterclass</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 40‚Äì55 min</span>
                </div>
                <h3>ETF Masterclass (Parte 2)</h3>
                <p>Teoria aplicada: Markowitz, Sharpe, CAPM, fatores e c√¢mbio/hedge sem achismo.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/etf-masterclass-carteira-global-parte-2.html">Abrir Parte 2</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/etf-masterclass-carteira-global-parte-3.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="ETF Masterclass Parte 3" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-bolt"></i> Masterclass</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 45‚Äì60 min</span>
                </div>
                <h3>ETF Masterclass (Parte 3)</h3>
                <p>Carteiras modelo (1 ETF, 3 ETFs, fatores), sobreposi√ß√£o e rebalanceamento com regras.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/etf-masterclass-carteira-global-parte-3.html">Abrir Parte 3</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/etf-masterclass-carteira-global-parte-4.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="ETF Masterclass Parte 4" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-bolt"></i> Masterclass</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 40‚Äì55 min</span>
                </div>
                <h3>ETF Masterclass (Parte 4)</h3>
                <p>Fechamento institucional: operacional, riscos, erros fatais e checklist final de execu√ß√£o.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/etf-masterclass-carteira-global-parte-4.html">Abrir Parte 4</a></div>
              </div>
            </article>
          </div>

          
          <!-- S√©rie B√≠blia da Aposentadoria -->
          <div class="featured-title" style="margin-top:16px;">
            <h2>üìò B√≠blia da Aposentadoria</h2>
            <span class="muted">S√©rie em 4 partes (do plano ao saque e governan√ßa)</span>
          </div>

          <div class="featured-grid">
            <article class="featured-card">
              <a href="/posts/biblia-da-aposentadoria-parte-1.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="B√≠blia da Aposentadoria Parte 1" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-book"></i> Aposentadoria</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 55‚Äì75 min</span>
                </div>
                <h3>B√≠blia da Aposentadoria (Parte 1)</h3>
                <p>Diagn√≥stico, metas, ‚Äúfechar a conta‚Äù e como estruturar o plano com realismo.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/biblia-da-aposentadoria-parte-1.html">Abrir Parte 1</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/biblia-da-aposentadoria-parte-2.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="B√≠blia da Aposentadoria Parte 2" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-book"></i> Aposentadoria</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 55‚Äì75 min</span>
                </div>
                <h3>B√≠blia da Aposentadoria (Parte 2)</h3>
                <p>Motor da acumula√ß√£o: retorno real, infla√ß√£o, aportes e aloca√ß√£o por fases.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/biblia-da-aposentadoria-parte-2.html">Abrir Parte 2</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/biblia-da-aposentadoria-parte-3.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="B√≠blia da Aposentadoria Parte 3" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-book"></i> Aposentadoria</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 60‚Äì85 min</span>
                </div>
                <h3>B√≠blia da Aposentadoria (Parte 3)</h3>
                <p>Saque seguro: sequ√™ncia de retornos, guardrails, buckets e rebalanceamento com saques.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/biblia-da-aposentadoria-parte-3.html">Abrir Parte 3</a></div>
              </div>
            </article>

            <article class="featured-card">
              <a href="/posts/biblia-da-aposentadoria-parte-4.html" style="text-decoration:none;">
                <img src="/images/blog-cover.svg" alt="B√≠blia da Aposentadoria Parte 4" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
              </a>
              <div class="featured-body">
                <div class="featured-meta">
                  <span class="tag"><i class="fa-solid fa-book"></i> Aposentadoria</span>
                  <span class="readtime"><i class="fa-regular fa-clock"></i> 45‚Äì65 min</span>
                </div>
                <h3>B√≠blia da Aposentadoria (Parte 4)</h3>
                <p>Gest√£o de risco, prote√ß√£o patrimonial, impostos (vis√£o pr√°tica) e plano de execu√ß√£o em 12 meses.</p>
                <div class="featured-cta"><a class="btn-sm" href="/posts/biblia-da-aposentadoria-parte-4.html">Abrir Parte 4</a></div>
              </div>
            </article>
          </div>

          <hr class="divider-soft" />
        </div>

        <div id="emptyState" class="empty-state" style="display:none;">
          <h3 style="margin-top:0;">Nenhum artigo encontrado</h3>
          <p class="muted">Tente outra palavra-chave ou selecione ‚ÄúTodos os temas‚Äù.</p>
        </div>

        <div id="posts-container" class="posts-grid"></div>
        <div id="pagination" class="pagination" aria-label="Pagina√ß√£o"></div>
      </div>
    </section>
  </main>

  
  <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3 class="footer-logo">C√©rebro Milion√°rio</h3>
                    <p class="footer-text">Capacitando voc√™ a tomar decis√µes financeiras inteligentes para um futuro pr√≥spero.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/cerebromillionario/" target="_blank" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/@cerebromillionario?si=HXuHdkSfJpfBcT75" target="_blank" class="social-link" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Navega√ß√£o</h4>
                    <ul class="footer-links">
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/calculadora.html">Calculadora</a></li>
                        <li><a href="/blog.html">Blog</a></li>
                        <li><a href="#">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Recursos</h4>
                    <ul class="footer-links">
                        <li><a href="#">Gloss√°rio Financeiro</a></li>
                        <li><a href="#">Perguntas Frequentes</a></li>
                        <li><a href="#">Guias para Iniciantes</a></li>
                        <li><a href="#">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Newsletter</h4>
                    <p class="footer-text">Receba dicas financeiras exclusivas diretamente no seu email.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Seu melhor email" required class="form-control">
                        <button type="submit" class="btn btn-primary" style="margin-top: var(--spacing-sm); width: 100%;">Inscrever</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; <span id="current-year"></span> C√©rebro Milion√°rio. Todos os direitos reservados.
            </div>
        </div>
    </footer>


  <script src="/js/main.js"></script>

  <script>
    document.getElementById('current-year').textContent = new Date().getFullYear();

    const state = { posts: [], shown: [], page: 1, perPage: 9, q: '', tag: 'all' };

    const els = {
      container: document.getElementById('posts-container'),
      pagination: document.getElementById('pagination'),
      empty: document.getElementById('emptyState'),
      search: document.getElementById('searchInput'),
      tag: document.getElementById('tagSelect'),
    };

    function safePathFromLoc(loc){
      if (!loc) return '';
      loc = loc.trim();
      if (loc.startsWith('http://') || loc.startsWith('https://')) {
        try { return new URL(loc).pathname; } catch(e){ return loc; }
      }
      // relative already
      return loc.startsWith('/') ? loc : '/' + loc;
    }

    function slugToTitle(slug) {
      return slug.replace(/\.html$/,'').replace(/[-_]+/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
    }

    function inferTagFromSlug(slug) {
      const s = slug.toLowerCase();
      if (s.includes('cdb') || s.includes('lci') || s.includes('lca') || s.includes('renda-fixa') || s.includes('tesouro') || s.includes('ipca') || s.includes('selic') || s.includes('ir-')) return 'Renda Fixa';
      if (s.includes('etf')) return 'ETFs';
      if (s.includes('fii') || s.includes('fiis')) return 'FIIs';
      if (s.includes('acao') || s.includes('acoes')) return 'A√ß√µes';
      if (s.includes('aposent')) return 'Aposentadoria';
      if (s.includes('orcamento') || s.includes('financas') || s.includes('casais')) return 'Finan√ßas Pessoais';
      if (s.includes('cripto') || s.includes('bitcoin')) return 'Cripto';
      if (s.includes('carteira') || s.includes('rebalanceamento')) return 'Carteira';
      if (s.includes('iniciantes') || s.includes('guia')) return 'Iniciante';
      return 'Investimentos';
    }

    function buildDescFromSlug(slug){
      const s = slug.toLowerCase();
      if (s.includes('reserva-de-emergencia')) return 'Onde guardar sua reserva com seguran√ßa, liquidez e boas escolhas (e onde N√ÉO guardar).';
      if (s.includes('etfs')) return 'Como escolher ETFs com simplicidade e consist√™ncia para o longo prazo.';
      if (s.includes('fiis')) return 'Riscos, armadilhas e como avaliar FIIs al√©m do ‚Äúdividend yield‚Äù.';
      if (s.includes('ipca')) return 'Quando IPCA+ faz mais sentido e como pensar em prazo e volatilidade.';
      if (s.includes('cdb') || s.includes('lci') || s.includes('lca')) return 'Compara√ß√µes pr√°ticas e como calcular o que vale mais a pena no l√≠quido.';
      if (s.includes('tesouro')) return 'Entenda as diferen√ßas entre Tesouro e bancos para liquidez e seguran√ßa.';
      return 'Leia o artigo completo no C√©rebro Milion√°rio.';
    }

    function renderTags(){
      const tags = Array.from(new Set(state.posts.map(p => p.tag))).sort((a,b)=>a.localeCompare(b,'pt-BR'));
      const cur = els.tag.value || 'all';
      els.tag.innerHTML = '<option value="all">Todos os temas</option>' + tags.map(t => `<option value="${t}">${t}</option>`).join('');
      els.tag.value = cur;
    }

    function applyFilters(){
      const q = state.q.trim().toLowerCase();
      const tag = state.tag;

      state.shown = state.posts.filter(p => {
        const hay = (p.title + ' ' + p.desc + ' ' + p.tag).toLowerCase();
        const okQ = !q || hay.includes(q);
        const okTag = (tag === 'all') || (p.tag === tag);
        return okQ && okTag;
      });

      state.page = 1;
      render();
    }

    function renderPagination(totalPages){
      els.pagination.innerHTML = '';
      if (totalPages <= 1) return;

      for(let i=1;i<=totalPages;i++){
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.textContent = i;
        if (i === state.page) btn.classList.add('active');
        btn.addEventListener('click', () => {
          state.page = i;
          render();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        els.pagination.appendChild(btn);
      }
    }

    function render(){
      const list = state.shown;
      const total = list.length;
      const totalPages = Math.max(1, Math.ceil(total / state.perPage));
      const start = (state.page - 1) * state.perPage;
      const pageItems = list.slice(start, start + state.perPage);

      els.container.innerHTML = pageItems.map(p => `
        <article class="post-card">
          <a href="${p.url}" style="text-decoration:none;">
            <img class="post-thumb" src="${p.image}" alt="${p.title}" loading="lazy" onerror="this.src='/images/blog-cover.svg';" />
          </a>
          <div class="post-body">
            <div class="post-meta">
              <span class="tag"><i class="fa-solid fa-tag"></i> ${p.tag}</span>
              <span class="readtime"><i class="fa-regular fa-clock"></i> ${p.readTime}</span>
              ${p.lastmod ? `<span class="muted"><i class="fa-regular fa-calendar"></i> ${p.lastmod}</span>` : ''}
            </div>
            <h2 class="post-title">${p.title}</h2>
            <p class="post-desc">${p.desc}</p>
            <div class="post-actions">
              <a class="btn-sm" href="${p.url}">Ler mais</a>
            </div>
          </div>
        </article>
      `).join('');

      const filtering = !!(state.q || (state.tag !== 'all'));
      els.empty.style.display = (filtering && total === 0) ? 'block' : 'none';

      renderPagination(totalPages);
    }

    function isoToBr(iso){
      if(!iso) return '';
      const d = new Date(iso);
      if (isNaN(d.getTime())) return '';
      const dd = String(d.getDate()).padStart(2,'0');
      const mm = String(d.getMonth()+1).padStart(2,'0');
      const yy = d.getFullYear();
      return `${dd}/${mm}/${yy}`;
    }

    async function loadFromSitemap(){
      const res = await fetch('/sitemap.xml', { cache: 'no-store' });
      if(!res.ok) throw new Error('N√£o consegui acessar /sitemap.xml');

      const xmlText = await res.text();
      const xml = new DOMParser().parseFromString(xmlText, 'application/xml');

      const urls = Array.from(xml.querySelectorAll('url')).map(u => ({
        loc: (u.querySelector('loc')?.textContent || '').trim(),
        lastmod: (u.querySelector('lastmod')?.textContent || '').trim()
      })).filter(u => u.loc);

      const posts = urls
        .map(u => ({ ...u, path: safePathFromLoc(u.loc) }))
        .filter(u => u.path.includes('/posts/'));

      // Se o sitemap tem 22 posts, aqui ter√° 22 tamb√©m (sem depender de fetch de cada post)

      const featuredMap = {
        "etf-masterclass-carteira-global-parte-1": { title: "ETF Masterclass: Carteira Global N√≠vel Institucional (Parte 1)", tag: "Masterclass", readTime: "40‚Äì55 min", image: "/images/blog-cover.svg",
          desc: "Funda√ß√£o institucional: arquitetura da carteira, core/sat√©lites, custos e erros cl√°ssicos." },
        "etf-masterclass-carteira-global-parte-2": { title: "ETF Masterclass (Parte 2): Markowitz, CAPM, Fatores e C√¢mbio", tag: "Masterclass", readTime: "40‚Äì55 min", image: "/images/blog-cover.svg",
          desc: "Teoria moderna aplicada: correla√ß√£o, Sharpe, CAPM, fatores e hedge cambial sem achismo." },
        "etf-masterclass-carteira-global-parte-3": { title: "ETF Masterclass (Parte 3): Carteiras Modelo e Rebalanceamento", tag: "Masterclass", readTime: "45‚Äì60 min", image: "/images/blog-cover.svg",
          desc: "Modelos (1 ETF, 3 ETFs, fatores), sobreposi√ß√£o e rebalanceamento por calend√°rio/bandas." },
        "etf-masterclass-carteira-global-parte-4": { title: "ETF Masterclass (Parte 4): Impostos, Operacional e Checklist Final", tag: "Masterclass", readTime: "40‚Äì55 min", image: "/images/blog-cover.svg",
          desc: "Governan√ßa e execu√ß√£o: fric√ß√µes, riscos invis√≠veis, erros fatais e plano de 12 meses." },

        "renda-fixa-guia-completo-2026": { title: "Renda Fixa: Guia Completo 2026 (n√≠vel institucional)", tag: "Renda Fixa", readTime: "60+ min", image: "/images/blog-cover.svg",
          desc: "Curva, duration, cr√©dito, infla√ß√£o, cen√°rios e decis√µes com rigor t√©cnico (sem simplismo)." },
        "etfs-alocacao-global-guia-2026_cfa": { title: "ETFs e Aloca√ß√£o Global 2026 (n√≠vel CFA)", tag: "ETFs", readTime: "60+ min", image: "/images/blog-cover.svg",
          desc: "Constru√ß√£o de carteira global, risco, diversifica√ß√£o, fatores e escolhas com m√©todo." },
        "construcao-patrimonio-independencia-financeira-2026_max": { title: "Constru√ß√£o de Patrim√¥nio e Independ√™ncia Financeira (2026) ‚Äî n√≠vel m√°ximo", tag: "Carteira", readTime: "60+ min", image: "/images/blog-cover.svg",
          desc: "Estrat√©gia completa: aportes, aloca√ß√£o, comportamento, risco de ru√≠na e execu√ß√£o de longo prazo." },
        "warren-buffett-biografia-completa-2026": { title: "Warren Buffett: Biografia Completa e Li√ß√µes de Investimento (2026)", tag: "Investimentos", readTime: "60+ min", image: "/images/blog-cover.svg",
          desc: "Trajet√≥ria completa, princ√≠pios, decis√µes marcantes e li√ß√µes pr√°ticas aplic√°veis." }
        "biblia-da-aposentadoria-parte-1": { title: "B√≠blia da Aposentadoria (Parte 1): Metas, Diagn√≥stico e Plano", tag: "Aposentadoria", readTime: "55‚Äì75 min", image: "/images/blog-cover.svg",
          desc: "Do diagn√≥stico ao plano: metas, or√ßamento, proje√ß√µes e como estruturar o caminho com realismo." },
        "biblia-da-aposentadoria-parte-2": { title: "B√≠blia da Aposentadoria (Parte 2): Aportes e Aloca√ß√£o por Fases", tag: "Aposentadoria", readTime: "55‚Äì75 min", image: "/images/blog-cover.svg",
          desc: "Motor da acumula√ß√£o: retorno real, infla√ß√£o, aportes e aloca√ß√£o por fases com regra." },
        "biblia-da-aposentadoria-parte-3": { title: "B√≠blia da Aposentadoria (Parte 3): Saque Seguro e Guardrails", tag: "Aposentadoria", readTime: "60‚Äì85 min", image: "/images/blog-cover.svg",
          desc: "Saque seguro: sequ√™ncia de retornos, guardrails, bucket strategy e rebalanceamento com saques." },
        "biblia-da-aposentadoria-parte-4": { title: "B√≠blia da Aposentadoria (Parte 4): Risco, Prote√ß√£o e Plano de 12 Meses", tag: "Aposentadoria", readTime: "45‚Äì65 min", image: "/images/blog-cover.svg",
          desc: "Fechamento institucional: gest√£o de risco, prote√ß√£o patrimonial, impostos (vis√£o pr√°tica) e execu√ß√£o." },

      };

      const pinOrder = [
      "guia-completo-investimentos-iniciantes-2026",
        "etf-masterclass-carteira-global-parte-1",
        "etf-masterclass-carteira-global-parte-2",
        "etf-masterclass-carteira-global-parte-3",
        "etf-masterclass-carteira-global-parte-4",
        "biblia-da-aposentadoria-parte-1",
        "biblia-da-aposentadoria-parte-2",
        "biblia-da-aposentadoria-parte-3",
        "biblia-da-aposentadoria-parte-4",
        "renda-fixa-guia-completo-2026",
        "etfs-alocacao-global-guia-2026_cfa",
        "construcao-patrimonio-independencia-financeira-2026_max",
        "warren-buffett-biografia-completa-2026"
      ];

      const items = posts.map(p => {
        const parts = p.path.split('/');
        const file = parts[parts.length - 1] || '';
        const slug = file.replace(/\.html$/,'');
        const isPilar = slug.includes('guia-completo-investimentos-iniciantes-2026');
        const fmKey = slug.toLowerCase();
        const featured = featuredMap[fmKey];
        return {
          url: p.path,
          slug,
          title: featured ? featured.title : (isPilar ? 'Guia Completo de Investimentos para Iniciantes (2026)' : slugToTitle(file)),
          desc: featured ? featured.desc : (isPilar ? 'Artigo pilar: do zero ao plano de 30 dias, com reserva, renda fixa, ETFs, FIIs e a√ß√µes.' : buildDescFromSlug(slug)),
          image: featured ? featured.image : (isPilar ? '/images/blog-cover.svg' : '/images/blog-default.svg'),
          tag: featured ? featured.tag : inferTagFromSlug(slug),
          readTime: featured ? featured.readTime : (isPilar ? '20‚Äì30 min' : '10‚Äì15 min'),
          lastmod: isoToBr(p.lastmod)
        };
      });

      // Ordena: pins (pilar + masterclass + pilares), depois por lastmod desc
      items.sort((a,b) => {
        const ai = pinOrder.indexOf((a.slug || '').toLowerCase());
        const bi = pinOrder.indexOf((b.slug || '').toLowerCase());
        if (ai !== -1 || bi !== -1) {
          if (ai === -1) return 1;
          if (bi === -1) return -1;
          return ai - bi;
        }
        return (b.lastmod || '').localeCompare(a.lastmod || '');
      });

      state.posts = items;
      state.shown = items;

      renderTags();
      render();
    }

    els.search.addEventListener('input', e => { state.q = e.target.value || ''; applyFilters(); });
    els.tag.addEventListener('change', e => { state.tag = e.target.value || 'all'; applyFilters(); });

    loadFromSitemap().catch(err => {
      els.container.innerHTML = `<div class="empty-state"><h3 style="margin-top:0;">Erro ao carregar posts</h3><p class="muted">${String(err.message || err)}</p><p class="muted">Verifique se <a href="/sitemap.xml">/sitemap.xml</a> est√° acess√≠vel.</p></div>`;
    });
  </script>
</body>
</html>
